{"version":3,"sources":["../../src/lib/create-app.js"],"names":[],"mappings":"AAAA,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG;AACpB,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU;;;;;;AAM/C,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;EACzC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;;EAEpB,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,GAAG;;EAE9D,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;EACd;;EAEA,MAAM,CAAC;IACL,GAAG;IACH,UAAU;EACZ;AACF;;AAEA,MAAM,CAAC,OAAO,CAAC","file":"lib/create-app.js","sourcesContent":["import Koa from 'koa'\nimport setupMiddleware from './setup-middleware'\n\n/**\n * Create an application and setup middleware.\n * @param {import('..').MiddlewareConfig} middleware\n */\nasync function createApp(middlewareConfig) {\n  const app = new Koa()\n\n  const middleware = await setupMiddleware(middlewareConfig, app)\n\n  if (app.env == 'production') {\n    app.proxy = true\n  }\n\n  return {\n    app,\n    middleware,\n  }\n}\n\nexport default createApp"]}
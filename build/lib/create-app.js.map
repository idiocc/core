{"version":3,"sources":["../../src/lib/create-app.js"],"names":["createApp","middlewareConfig","app","Koa","middleware","env","proxy"],"mappings":";;;;;AAAA;;AACA;;;;AAEA;;;;AAIA,eAAeA,SAAf,CAAyBC,gBAAzB,EAA2C;AACzC,QAAMC,MAAM,IAAIC,YAAJ,EAAZ;AAEA,QAAMC,aAAa,MAAM,8BAAgBH,gBAAhB,EAAkCC,GAAlC,CAAzB;;AAEA,MAAIA,IAAIG,GAAJ,IAAW,YAAf,EAA6B;AAC3BH,QAAII,KAAJ,GAAY,IAAZ;AACD;;AAED,SAAO;AACLJ,OADK;AAELE;AAFK,GAAP;AAID;;eAEcJ,S","sourcesContent":["import Koa from 'koa'\nimport setupMiddleware from './setup-middleware'\n\n/**\n * Create an application and setup middleware.\n * @param {import('..').MiddlewareConfig} middleware\n */\nasync function createApp(middlewareConfig) {\n  const app = new Koa()\n\n  const middleware = await setupMiddleware(middlewareConfig, app)\n\n  if (app.env == 'production') {\n    app.proxy = true\n  }\n\n  return {\n    app,\n    middleware,\n  }\n}\n\nexport default createApp"],"file":"create-app.js"}